@model task_management.ViewModels.ProjectDetails

<div class="mb-4">
    @if (Model.Tasks != null && Model.Tasks.Any())
    {
        <div class="w-full grid grid-cols-6 gap-4 text-center font-semibold text-gray-700">
            <div>Name</div>
            <div>Start Date</div>
            <div>Status</div>
            <div>Priority</div>
            <div>Assignee</div>
            <div></div>
        </div>

        @foreach (var task in Model.Tasks)
        {
            <div class="w-full grid grid-cols-6 gap-4 items-center text-center py-2 border-b">
                <div class="text-gray-700">@task.name</div>
                <div class="text-gray-700">@task.startDate.ToString("dd/MM/yyyy")</div>
                @{
                    string priorityClass = task.priority switch
                    {
                        "High" => "bg-red-500 text-white",
                        "Medium" => "bg-yellow-500 text-black",
                        "Low" => "bg-green-500 text-white",
                        _ => "bg-gray-500 text-white"
                    };
                    string statusClass = task.status switch
                    {
                        "Due" => "bg-red-500 text-white",
                        "Completed" => "bg-green-500 text-white",
                        "In Progress" => "bg-blue-500 text-white",
                        _ => "bg-gray-500 text-white"
                    };
                }
                <div>
                    <span class="inline-block px-3 py-1 rounded @statusClass">@task.status</span>
                </div>
                <div>
                    <span class="inline-block px-3 py-1 rounded @priorityClass">@task.priority</span>
                </div>
                <div>@task.User.fullName</div>
                <div>
                    <a asp-controller="Task" asp-action="Edit" asp-route-id="@task.taskId" class="text-blue-500"><i class="fas fa-edit"></i></a>
                    <a asp-controller="Task" asp-action="Delete" asp-route-id="@task.taskId" class="text-red-500"><i class="fas fa-trash-alt"></i></a>
                </div>
            </div>
        }

        <!-- Pagination -->
        <div class="flex justify-center mt-4">
            <nav aria-label="Page navigation">
                <ul class="flex list-style-none">
                    @for (int i = 1; i <= Model.TotalPages; i++)
                    {
                        <li class="page-item">
                            <a href="#" class="page-link pagination-button" data-pagenumber="@i">@i</a>
                        </li>
                    }
                </ul>
            </nav>
        </div>
    }
    else
    {
        <div class="text-center py-4 text-gray-500">No tasks found.</div>
    }
</div>
